function offset(n){var t=0,i=0;if(n.offsetParent){do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return{x:t,y:i}}return undefined}function getJSON(n,t,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.status===200?t&&t(JSON.parse(r.responseText)):i&&i(r))};r.open("GET",n,!0);r.send()}function goTo(n){var i=this,t=Math.max((typeof n=="number"?n:offset(sel(n)).y)-50,0),e=t-window.scrollY,r=e/20*(t<window.scrollY?-1:1),u=-1,f=!1,o=0,s=setInterval(function(){f||i.userScroll?((document.readyState==="complete"||i.userScroll)&&clearInterval(s),i.userScroll||window.scrollTo(0,t)):window.scrollY>t-r&&window.scrollY<t+r||!(u!==window.scrollY||o++<1)?f=!0:(u=window.scrollY,window.scrollTo(0,window.scrollY+r))},1e3/59.9)}function counterUp(){var n=selAll("[data-counterup]"),t=!1,i;n.length>0&&(i=offset(n[0]).y,window.addEventListener("scroll",function(){var r,f,u,e;if(!counterUpStarted&&window.scrollY+window.innerHeight>i){for(counterUpStarted=!0,r=0;r<n.length;r++)f=parseInt(n[r].innerText),n[r].innerText=n[r].innerText.replace(f.toString(),"0");u=.01;e=setInterval(function(){for(var i=0;i<n.length;i++){var r=n[i],f=parseInt(r.getAttribute("data-counterup")),s=parseInt(r.innerText),o=f*u;o>=f&&(t=!0,o=f);r.innerText=r.innerText.replace(s.toFixed(0),o.toFixed(0))}u+=.01;t&&clearInterval(e)},1e3/59.9)}}))}var sel=function(n){return document.querySelector(n)},selAll=function(n){return document.querySelectorAll(n)},userScroll=!1,counterUpStarted,Embedded,embedded,Gallery;window.addEventListener&&document.addEventListener("DOMMouseScroll",function(){return userScroll=!0},!1);document.addEventListener("mousewheel",function(){return userScroll=!0});counterUpStarted=!1;Embedded=function(){function n(){for(var t=selAll(".youtube-player"),n=0;n<t.length;n++)this.embedItem(t[n],"youtube");for(t=selAll(".vimeo-player"),n=0;n<t.length;n++)this.embedItem(t[n],"vimeo");for(t=selAll(".iframe-player"),n=0;n<t.length;n++)this.embedItem(t[n],"iframe")}return n.prototype.embedItem=function(n,t){var o=this,r,i,f,e,u;t==="youtube"?(r=document.createElement("div"),r.setAttribute("data-id",n.dataset.id),i=document.createElement("img"),n.offsetWidth>700?(i.src="https://i.ytimg.com/vi/ID/maxresdefault.jpg".replace("ID",n.dataset.id),i.setAttribute("fallback","https://i.ytimg.com/vi/ID/hqdefault.jpg".replace("ID",n.id)),i.alt="YoutTube",i.onload=function(){i.naturalHeight===90&&i.naturalWidth===120&&i.src!==i.getAttribute("fallback")&&(i.src=null,i.src=i.getAttribute("fallback"))}):i.src="https://i.ytimg.com/vi/ID/hqdefault.jpg".replace("ID",n.dataset.id),u=document.createElement("div"),u.classList.add("play"),r.appendChild(i),r.appendChild(u),r.onclick=function(){return o.createVideo(!0,r)},n.appendChild(r)):t==="vimeo"?getJSON("https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+n.dataset.id,function(t){var i,r,u;i=document.createElement("div");i.setAttribute("data-id",n.dataset.id);r=document.createElement("img");r.src=t.thumbnail_url;u=document.createElement("div");u.classList.add("play");i.appendChild(r);i.appendChild(u);i.onclick=function(){return o.createVideo(!1,i)};sel('.vimeo-player[data-id="'+n.dataset.id+'"]').appendChild(i)},null):t==="iframe"&&(e=void 0,u=void 0,f=document.createElement("div"),f.setAttribute("data-src",n.dataset.id),e=document.createElement("img"),e.src=n.dataset.thumb,u=document.createElement("div"),u.classList.add("play"),f.appendChild(e),f.appendChild(u),f.onclick=function(){return o.createIframe(f)},n.appendChild(f))},n.prototype.createVideo=function(n,t){var i=document.createElement("iframe"),r=n?"https://www.youtube.com/embed/ID?autoplay=1":"https://player.vimeo.com/video/ID?autoplay=1";i.setAttribute("src",r.replace("ID",t.dataset.id));i.setAttribute("frameborder","0");i.setAttribute("allowfullscreen","1");t.parentNode.replaceChild(i,t)},n.prototype.createIframe=function(n){var t=document.createElement("iframe");t.setAttribute("src",n.dataset.src);t.setAttribute("frameborder","0");t.setAttribute("allowfullscreen","1");n.parentNode.replaceChild(t,n)},n}(),function(){embedded=new Embedded}();
/*! Gallery
Beispiele:
<img data-target="http://static.4players.de/sourcen/portal/4players/2017/header_title_2017.png" src="~/images/Logo-SoftSolutions.png" />
<a href="http://static.4players.de/sourcen/portal/4players/2017/header_title_2017.png" data-imageViewer title="Bild">
    <img src="~/images/Logo-SoftSolutions.png" />
</a>
<a data-type="iframe" data-imageViewer title="Iframe" data-target="https://view.mylumion.com/?p=u3gouj8x&embed=1&iframe=true" data-thumb="https://content.lumion3d.com/lumiondotcom-content/2015/06/u3gouj8xview_4_thumb.jpg">
    <img src="~/images/Logo-SoftSolutions.png" />
</a>
<a data-target="k3tQaWxaLzM" data-type="youtube" data-imageViewer title="Youtube">
    <img src="~/images/Logo-SoftSolutions.png" />
</a>
<a data-target="http://www.4players.de/" data-imageViewer title="Link">
    <img src="~/images/Logo-SoftSolutions.png" />
</a>
<a data-target="#bla" data-imageViewer title="4Players">
    <img src="~/images/Logo-SoftSolutions.png" />
</a>
<div id="bla" hidden>
    <span>Hallo Welt</span>
</div>
*/
Gallery=function(){function n(n){var r,t,i;for(this.items=[],this._currentIndex=0,r=this,t=0;t<n.length;t++)i=n[t],i.onclick=function(n){r.onItemClicked(this,n);n.preventDefault();n.stopPropagation()},this.items.push(i);this.initMarkup()}return n.prototype.initMarkup=function(){var s=this,a=sel("body"),t=document.createElement("div"),n,f,e,i,h,r,c,u,o,l;t.classList.add("imageViewer");this._main=t;n=document.createElement("div");n.classList.add("imageViewer-wrapper");t.appendChild(n);f=document.createElement("div");f.classList.add("imageViewer-content");e=document.createElement("div");e.classList.add("container");f.appendChild(e);this._content=e;n.appendChild(f);this.items.length>1&&(i=document.createElement("span"),i.classList.add("imageViewer-prev"),h=document.createElement("span"),h.innerText="<",i.onclick=function(){return s.prev()},i.appendChild(h),n.appendChild(i),r=document.createElement("span"),c=document.createElement("span"),c.innerText=">",r.onclick=function(){return s.next()},r.appendChild(c),r.classList.add("imageViewer-next"),n.appendChild(r));u=document.createElement("span");u.innerText="X";u.classList.add("imageViewer-close");u.onclick=function(){return s.close()};n.appendChild(u);o=document.createElement("div");o.classList.add("imageViewer-caption");l=document.createElement("span");o.appendChild(l);this._captionContent=l;t.appendChild(o);a.appendChild(t)},n.prototype.onItemClicked=function(n){this._currentItems=this.items.filter(function(t){return t.getAttribute("data-imageViewer")===n.getAttribute("data-imageViewer")});this._currentIndex=this._currentItems.indexOf(n);this.loadContent();this._main.style.display="block"},n.prototype.loadContent=function(){var i=this._currentItems[this._currentIndex],t=i.getAttribute("data-target"),o,h,r,n,c,e,u,s,f;if(t||(o=i,h=i,t=o?o.href:h.src),r=i.getAttribute("data-type"),r||(r=t[0]==="#"?"ref":t.slice(-4).toLowerCase()===".png"||t.slice(-4).toLowerCase()===".jpg"?"image":""),this._originElement){for(u=0;u<this._content.children[0].children.length;u++)this._originElement.appendChild(this._content.children[0].children[u]);this._originElement=null}if(r==="image")this._content.parentElement.style.backgroundImage="url("+t+")",this._content.innerHTML="";else if(r==="youtube")n=document.createElement("div"),n.classList.add("youtube-player"),n.setAttribute("data-id",t),this.updateContainer(n),embedded.embedItem(n,"youtube");else if(r==="vimeo")n=document.createElement("div"),n.classList.add("vimeo-player"),n.setAttribute("data-id",t),this.updateContainer(n),embedded.embedItem(n,"vimeo");else if(r==="iframe")n=document.createElement("div"),c=i instanceof HTMLImageElement?i.src:i.getAttribute("data-thumb"),n.classList.add("iframe-player"),n.setAttribute("data-id",t),n.setAttribute("data-thumb",c),this.updateContainer(n),embedded.embedItem(n,"iframe");else if(r==="ref"){for(e=document.createElement("div"),t="#"+t.split("#").slice(-1)[0],this._originElement=sel(t),this._originElement||(e.innerHTML="Konnte nicht geladen werden!"),u=0;u<this._originElement.children.length;u++)e.appendChild(this._originElement.children[u]);this.updateContainer(e)}else s=document.createElement("iframe"),s.src=t,this.updateContainer(s);f=i.getAttribute("title");f||(f=i.getAttribute("name"),f||(f=i.getAttribute("alt")));this._captionContent.innerText=f?f:""},n.prototype.updateContainer=function(n){this._content.parentElement.style.backgroundImage="";n instanceof HTMLIFrameElement?this._content.classList.add("full"):this._content.classList.remove("full");var t=this._content.children.item(0);t&&this._content.removeChild(t);this._content.appendChild(n)},n.prototype.next=function(){++this._currentIndex===this._currentItems.length&&(this._currentIndex=0);this.loadContent()},n.prototype.prev=function(){--this._currentIndex<0&&(this._currentIndex=this._currentItems.length-1);this.loadContent()},n.prototype.close=function(){var n,t;if(this._originElement){for(n=0;n<this._content.children[0].children.length;n++)this._originElement.appendChild(this._content.children[0].children[n]);this._originElement=null}t=this._content.children.item(0);t&&this._content.removeChild(t);this._main.style.display="none"},n}(),function(){var i=selAll("[data-imageviewer]"),u,n,r,t;if(i.length>0&&(u=new Gallery(i)),n=selAll(".img-description img"),n.length>0)for(r=function(){var i=n[t];i.complete?i.parentElement.classList.add("loaded"):i.onload=function(){i.parentElement.classList.add("loaded")}},t=0;t<n.length;t++)r()}();